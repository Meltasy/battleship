(()=>{"use strict";var e={365:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(354),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([e.id,":root {\n    --text-color: #73C87D;\n    --background-color: #0B4612;\n    --primary-color-light: #4FA85A;\n    --primary-color: #30853A;\n    --primary-color-dark: #1B6624;\n}\n\nhtml, body {\n    height: 100%;\n    margin: 0;\n    display: flex;\n    flex-direction: column;\n}\n\nbody {\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 16px;\n    color: var(--text-color);\n    text-shadow: -1px -1px 2px var(--primary-color-light);\n    text-align: center;\n    background-color: var(--background-color);\n}\n\nheader {\n    flex: 0 0 auto;\n}\n\nmain {\n    flex: 1 0 auto;\n    overflow-y: auto;\n}\n\nfooter {\n    flex: 0 0 auto;\n}\n\nh1, h2 {\n    margin: 5px;\n    padding: 5px;\n}\n\nbutton,\ninput {\n    font-family: inherit;\n    font-weight: 700;\n    font-size: 1.2rem;\n    appearance: none;\n    outline: none;\n    color: inherit;\n    text-shadow: -1px -1px 2px var(--primary-color-light);\n    background-color: inherit;\n    border: var(--primary-color-dark) solid 2px;\n    box-shadow: -2px -2px 2px var(--primary-color-light);\n    padding: 5px 10px;\n    margin: 5px 20px;\n}\n\nlabel {\n    margin: 5px 20px;\n}\n\nul {\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n}\n\ndialog::backdrop {\n    background-color: var(--primary-color);\n    opacity: 0.75;\n}\n\ndialog:modal {\n    display: block;\n    outline: none;\n    font-family: inherit;\n    font-weight: 700;\n    font-size: 1.2rem;\n    color: inherit;\n    background-color: inherit;\n    border: 2px solid var(--primary-colour-dark);\n    box-shadow: -2px -2px 2px var(--primary-colour-light);\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n#gameDisplay {\n    display: grid;\n    grid-template-columns: repeat(2, 5fr);\n    margin: 0 100px;\n    place-items: center;\n}\n\n#enemyDisplay {\n    display: none;\n    grid-column: 2;\n}\n\n.gameBoard {\n    display: grid;\n    grid-template-rows: repeat(10, 1fr);\n    grid-template-columns: repeat(10, 1fr);\n    background-color: var(--primary-color);\n    width: 525px;\n    height: 525px;\n}\n\n.cell {\n    display: grid;\n    padding: 10px;\n    outline: var(--primary-color-dark) solid 2px;\n    font-size: 1.5rem;\n    color: var(--background-color);\n    justify-items: center;\n    align-items: center;\n}\n\n.cell:active {\n    background-color: var(--primary-color-dark);\n    color: var(--text-color);\n}\n\n#shipDisplay {\n    display: grid;\n    grid-column: 2;\n    grid-template-rows: repeat(6, 1fr);\n    justify-items: start;\n    padding: 10px;\n    margin: 10px;\n}\n\n#shipDisplay.vertical {\n    grid-template-columns: repeat(5, 1fr);\n    grid-template-rows: 1fr 5fr;\n}\n\n#directionBtn {\n    position: relative;\n    width: 80px;\n    height: 40px;\n    background-color: inherit;\n    border: var(--primary-color-dark) solid 2px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    transition: 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n}\n\n.directionToggle {\n    position: absolute;\n    left: 0;\n    width: 38px;\n    height: 38px;\n    font-size: 1.5rem;\n    color: var(--background-color);\n    background-color: var(--primary-color);\n    border: var(--primary-color-dark) solid 2px;\n    transition: 0.3s ease;\n}\n\n.directionToggle.active {\n    left: 100%;\n    transform: translateX(-100%);\n    transition: 0.3 ease;\n}\n\n.buttons {\n    display: grid;\n    grid-template-columns: repeat(2, 2.5fr);\n    align-items: center;\n}\n\n.buttons.vertical {\n    grid-column: 1 / 3;\n}\n\n#undoBtn {\n    width: auto;\n    height: 40px;\n    grid-column: 2;\n    margin: 5px 10px;\n}\n\n#Carrier,\n#Battleship,\n#Cruiser,\n#Submarine,\n#Destroyer {\n    display: flex;\n    padding: 0;\n    margin: 10px 0;\n    width: max-content;\n    height: max-content;\n    background-color: var(--primary-color);\n    outline: var(--primary-color-dark) solid 2px;\n    cursor: move;\n}\n\n.shipVertical {\n    flex-direction: column;\n    grid-row: 2;\n}\n\n.shipIcon {\n    font-size: 1.5rem;\n    color: var(--background-color);\n    padding: 14px;\n}\n\n.shipBody {\n    height: 28px;\n    width: 28px;\n    padding: 10px;\n    outline: var(--primary-color-dark) solid 2px;\n}\n\n.dragging {\n    opacity: 0.5;\n}\n\n.dragOver {\n    background-color: var(--primary-color-dark);\n    color: var(--text-color);\n}","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,qBAAqB;IACrB,2BAA2B;IAC3B,8BAA8B;IAC9B,wBAAwB;IACxB,6BAA6B;AACjC;;AAEA;IACI,YAAY;IACZ,SAAS;IACT,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,8CAA8C;IAC9C,eAAe;IACf,wBAAwB;IACxB,qDAAqD;IACrD,kBAAkB;IAClB,yCAAyC;AAC7C;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,cAAc;IACd,gBAAgB;AACpB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,YAAY;AAChB;;AAEA;;IAEI,oBAAoB;IACpB,gBAAgB;IAChB,iBAAiB;IACjB,gBAAgB;IAChB,aAAa;IACb,cAAc;IACd,qDAAqD;IACrD,yBAAyB;IACzB,2CAA2C;IAC3C,oDAAoD;IACpD,iBAAiB;IACjB,gBAAgB;AACpB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,qBAAqB;IACrB,UAAU;IACV,SAAS;IACT,aAAa;IACb,uBAAuB;AAC3B;;AAEA;IACI,sCAAsC;IACtC,aAAa;AACjB;;AAEA;IACI,cAAc;IACd,aAAa;IACb,oBAAoB;IACpB,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,yBAAyB;IACzB,4CAA4C;IAC5C,qDAAqD;AACzD;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,qCAAqC;IACrC,eAAe;IACf,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,mCAAmC;IACnC,sCAAsC;IACtC,sCAAsC;IACtC,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,aAAa;IACb,4CAA4C;IAC5C,iBAAiB;IACjB,8BAA8B;IAC9B,qBAAqB;IACrB,mBAAmB;AACvB;;AAEA;IACI,2CAA2C;IAC3C,wBAAwB;AAC5B;;AAEA;IACI,aAAa;IACb,cAAc;IACd,kCAAkC;IAClC,oBAAoB;IACpB,aAAa;IACb,YAAY;AAChB;;AAEA;IACI,qCAAqC;IACrC,2BAA2B;AAC/B;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,yBAAyB;IACzB,2CAA2C;IAC3C,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,eAAe;IACf,qBAAqB;IACrB,aAAa;IACb,mBAAmB;IACnB,6BAA6B;AACjC;;AAEA;IACI,kBAAkB;IAClB,OAAO;IACP,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,8BAA8B;IAC9B,sCAAsC;IACtC,2CAA2C;IAC3C,qBAAqB;AACzB;;AAEA;IACI,UAAU;IACV,4BAA4B;IAC5B,oBAAoB;AACxB;;AAEA;IACI,aAAa;IACb,uCAAuC;IACvC,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,cAAc;IACd,gBAAgB;AACpB;;AAEA;;;;;IAKI,aAAa;IACb,UAAU;IACV,cAAc;IACd,kBAAkB;IAClB,mBAAmB;IACnB,sCAAsC;IACtC,4CAA4C;IAC5C,YAAY;AAChB;;AAEA;IACI,sBAAsB;IACtB,WAAW;AACf;;AAEA;IACI,iBAAiB;IACjB,8BAA8B;IAC9B,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,aAAa;IACb,4CAA4C;AAChD;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,2CAA2C;IAC3C,wBAAwB;AAC5B",sourcesContent:[":root {\n    --text-color: #73C87D;\n    --background-color: #0B4612;\n    --primary-color-light: #4FA85A;\n    --primary-color: #30853A;\n    --primary-color-dark: #1B6624;\n}\n\nhtml, body {\n    height: 100%;\n    margin: 0;\n    display: flex;\n    flex-direction: column;\n}\n\nbody {\n    font-family: 'Courier New', Courier, monospace;\n    font-size: 16px;\n    color: var(--text-color);\n    text-shadow: -1px -1px 2px var(--primary-color-light);\n    text-align: center;\n    background-color: var(--background-color);\n}\n\nheader {\n    flex: 0 0 auto;\n}\n\nmain {\n    flex: 1 0 auto;\n    overflow-y: auto;\n}\n\nfooter {\n    flex: 0 0 auto;\n}\n\nh1, h2 {\n    margin: 5px;\n    padding: 5px;\n}\n\nbutton,\ninput {\n    font-family: inherit;\n    font-weight: 700;\n    font-size: 1.2rem;\n    appearance: none;\n    outline: none;\n    color: inherit;\n    text-shadow: -1px -1px 2px var(--primary-color-light);\n    background-color: inherit;\n    border: var(--primary-color-dark) solid 2px;\n    box-shadow: -2px -2px 2px var(--primary-color-light);\n    padding: 5px 10px;\n    margin: 5px 20px;\n}\n\nlabel {\n    margin: 5px 20px;\n}\n\nul {\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n}\n\ndialog::backdrop {\n    background-color: var(--primary-color);\n    opacity: 0.75;\n}\n\ndialog:modal {\n    display: block;\n    outline: none;\n    font-family: inherit;\n    font-weight: 700;\n    font-size: 1.2rem;\n    color: inherit;\n    background-color: inherit;\n    border: 2px solid var(--primary-colour-dark);\n    box-shadow: -2px -2px 2px var(--primary-colour-light);\n}\n\nform {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n#gameDisplay {\n    display: grid;\n    grid-template-columns: repeat(2, 5fr);\n    margin: 0 100px;\n    place-items: center;\n}\n\n#enemyDisplay {\n    display: none;\n    grid-column: 2;\n}\n\n.gameBoard {\n    display: grid;\n    grid-template-rows: repeat(10, 1fr);\n    grid-template-columns: repeat(10, 1fr);\n    background-color: var(--primary-color);\n    width: 525px;\n    height: 525px;\n}\n\n.cell {\n    display: grid;\n    padding: 10px;\n    outline: var(--primary-color-dark) solid 2px;\n    font-size: 1.5rem;\n    color: var(--background-color);\n    justify-items: center;\n    align-items: center;\n}\n\n.cell:active {\n    background-color: var(--primary-color-dark);\n    color: var(--text-color);\n}\n\n#shipDisplay {\n    display: grid;\n    grid-column: 2;\n    grid-template-rows: repeat(6, 1fr);\n    justify-items: start;\n    padding: 10px;\n    margin: 10px;\n}\n\n#shipDisplay.vertical {\n    grid-template-columns: repeat(5, 1fr);\n    grid-template-rows: 1fr 5fr;\n}\n\n#directionBtn {\n    position: relative;\n    width: 80px;\n    height: 40px;\n    background-color: inherit;\n    border: var(--primary-color-dark) solid 2px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    transition: 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n}\n\n.directionToggle {\n    position: absolute;\n    left: 0;\n    width: 38px;\n    height: 38px;\n    font-size: 1.5rem;\n    color: var(--background-color);\n    background-color: var(--primary-color);\n    border: var(--primary-color-dark) solid 2px;\n    transition: 0.3s ease;\n}\n\n.directionToggle.active {\n    left: 100%;\n    transform: translateX(-100%);\n    transition: 0.3 ease;\n}\n\n.buttons {\n    display: grid;\n    grid-template-columns: repeat(2, 2.5fr);\n    align-items: center;\n}\n\n.buttons.vertical {\n    grid-column: 1 / 3;\n}\n\n#undoBtn {\n    width: auto;\n    height: 40px;\n    grid-column: 2;\n    margin: 5px 10px;\n}\n\n#Carrier,\n#Battleship,\n#Cruiser,\n#Submarine,\n#Destroyer {\n    display: flex;\n    padding: 0;\n    margin: 10px 0;\n    width: max-content;\n    height: max-content;\n    background-color: var(--primary-color);\n    outline: var(--primary-color-dark) solid 2px;\n    cursor: move;\n}\n\n.shipVertical {\n    flex-direction: column;\n    grid-row: 2;\n}\n\n.shipIcon {\n    font-size: 1.5rem;\n    color: var(--background-color);\n    padding: 14px;\n}\n\n.shipBody {\n    height: 28px;\n    width: 28px;\n    padding: 10px;\n    outline: var(--primary-color-dark) solid 2px;\n}\n\n.dragging {\n    opacity: 0.5;\n}\n\n.dragOver {\n    background-color: var(--primary-color-dark);\n    color: var(--text-color);\n}"],sourceRoot:""}]);const s=i},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var A=[].concat(e[c]);r&&i[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),a&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=a):A[4]="".concat(a)),n.push(A))}},n}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],A=o[c]||0,d="".concat(c," ").concat(A);o[c]=A+1;var p=t(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(h);else{var u=a(h,r);r.byIndex=s,n.splice(s,0,{identifier:d,updater:u,references:1})}i.push(d)}return i}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=t(o[i]);n[s].references--}for(var l=r(e,a),c=0;c<o.length;c++){var A=t(o[c]);0===n[A].references&&(n[A].updater(),n.splice(A,1))}o=l}}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),i=t.n(o),s=t(659),l=t.n(s),c=t(56),A=t.n(c),d=t(540),p=t.n(d),h=t(113),u=t.n(h),m=t(365),y={};y.styleTagTransform=u(),y.setAttributes=A(),y.insert=l().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=p(),a()(m.A,y),m.A&&m.A.locals&&m.A.locals;class C{constructor(e){this.name=e,this.hits=0,this.direction="horizontal"}hit(){this.hits<this.length&&(this.hits+=1)}isSunk(){return this.length===this.hits}}class g extends C{constructor(e){super(e),this.length=5}}class f extends C{constructor(e){super(e),this.length=4}}class b extends C{constructor(e){super(e),this.length=3}}class B extends C{constructor(e){super(e),this.length=3}}class v extends C{constructor(e){super(e),this.length=2}}class x{constructor(e){this.player=e,this.board=this.createBoard(),this.ships=[new g("Carrier"),new f("Battleship"),new b("Cruiser"),new B("Submarine"),new v("Destroyer")]}createBoard(e=10){let n=[];for(let t=0;t<e;t++){n.push([]);for(let r=0;r<e;r++)n[t].push("Empty")}return n}placeShips(e,n,t,r,a){if("horizontal"===a){for(let e=0;e<n.length;e++){if("Empty"!==this.board[t][r]||!this.board[t][r])return!1;r++}r-=n.length;for(let a=0;a<n.length;a++)this.board[t][r]=n,e.shipsArray.push([n,t,r]),r++}else if("vertical"===a){for(let e=0;e<n.length;e++){if("Empty"!==this.board[t][r]||!this.board[t][r])return!1;t++}t-=n.length;for(let a=0;a<n.length;a++)this.board[t][r]=n,e.shipsArray.push([n,t,r]),t++}}getRandomShips(e){e.shipsArray=[];for(let n of this.ships)this.placeRandomShip(e,n)}placeRandomShip(e,n){let t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),a=Math.round(Math.random())?"horizontal":"vertical";if("horizontal"===a){r+n.length>9&&(r=10-n.length);for(let a=0;a<n.length;a++){if("Empty"!==this.board[t][r])return this.placeRandomShip(e,n);r++}r-=n.length;for(let a=0;a<n.length;a++)this.board[t][r]=n,e.shipsArray.push([n,t,r]),r++}else if("vertical"===a){t+n.length>9&&(t=10-n.length);for(let a=0;a<n.length;a++){if("Empty"!==this.board[t][r])return this.placeRandomShip(e,n);t++}t-=n.length;for(let a=0;a<n.length;a++)this.board[t][r]=n,e.shipsArray.push([n,t,r]),t++}}receiveAttack(e,n,t,r){if(!this.board[n][t])throw new Error("Error: This cell doesn't exist");if("Hit"!==this.board[n][t]&&"Miss"!==this.board[n][t])"Empty"!==this.board[n][t]?this.board[n][t]instanceof C&&(this.board[n][t].hit(),this.board[n][t]="Hit",e.hitsArray.push([n,t]),this.ships.forEach((n=>{if(!0===n.isSunk()){const t=n.name,r=e.shipsArray.filter((([e])=>e.name===t)).map((([e,n,t])=>[n,t]));r.forEach((([e,n])=>{this.board[e][n]="Sunk"})),e.hitsArray=e.hitsArray.filter((([e,n])=>!r.some((([t,r])=>t===e&&r===n))))}})),this.areAllShipsSunk()):this.board[n][t]="Miss";else{if("no"===r)throw new Error("Error: This cell's already been attacked");this.computerAttack(e,r)}}computerAttack(e,n){if(e.hitsArray.length>0){const t=this.targetAttack(e);if(t){const[r,a]=t;return void this.receiveAttack(e,r,a,n)}}let t=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());if("Hit"===this.board[t][r]||"Miss"===this.board[t][r]||"Sunk"===this.board[t][r])return this.computerAttack(e,n);this.receiveAttack(e,t,r,n)}targetAttack(e){let n=e.hitsArray.filter((([e,n])=>this.board[e]&&"Hit"===this.board[e][n]));if(e.hitsArray=n,0===n.length)return null;if(1===n.length){const[e,t]=n[0],r=[[e+1,t],[e,t+1],[e-1,t],[e,t-1]];return this.chooseCell(r)}const t=n.every((([e])=>e===n[0][0])),r=n.every((([e,t])=>t===n[0][1]));if(t){const e=n.map((([e,n])=>n)),t=Math.min(...e),r=Math.max(...e);return this.chooseCell([[n[0][0],t-1],[n[0][0],r+1]])}if(r){const e=n.map((([e])=>e)),t=Math.min(...e),r=Math.max(...e);return this.chooseCell([[t-1,n[0][1]],[r+1,n[0][1]]])}const[a,o]=n[n.length-1],i=[[a+1,o],[a,o+1],[a-1,o],[a,o-1]];return this.chooseCell(i)}chooseCell(e){for(const[n,t]of e)if(n>=0&&n<10&&t>=0&&t<10){const e=this.board[n][t];if("Empty"===e||e instanceof C)return[n,t]}return null}areAllShipsSunk(){return this.ships.every((e=>e.isSunk()))}}class I{constructor(e){this.name=e,this.gameboard=new x(this.name),this.isEnemy="no",this.shipsArray=[],this.hitsArray=[]}}class k{constructor(){}toggleDisplays(e){const n=document.querySelector("#enemyDisplay");"none"===e.style.display?n.style.display="grid":n.style.display="none"}displayShips(e){const n=document.querySelector("#shipDisplay");for(;n.lastChild;)n.removeChild(n.lastChild);n.style.display="grid",this.toggleDisplays(n);const t=document.createElement("div");t.setAttribute("class","buttons");const r=document.createElement("div");r.setAttribute("id","directionBtn");const a=document.createElement("div");a.setAttribute("class","directionToggle");const o=document.createElement("i");o.setAttribute("class","bx bxs-arrow-big-right");const i=document.createElement("i");i.setAttribute("class","bx bxs-arrow-big-down");const s=document.createElement("button");s.setAttribute("id","undoBtn"),s.textContent="Undo","vertical"===e.gameboard.ships[0].direction&&(e.gameboard.ships.forEach((e=>{e.direction="horizontal"})),a.classList.remove("active"),n.classList.remove("vertical"),t.classList.remove("vertical"));let l=!1;r.addEventListener("click",(()=>{l=!l,this.changeShipDirection(e,l,a,n,t)})),s.addEventListener("click",(()=>{let t=e.shipsArray.slice(-1)[0],r=document.querySelector("#"+t[0].name);n.appendChild(r),r.style.display="flex",this.undoShipPlace(e,t),this.updatePlayerDisplay(e)})),r.appendChild(o),r.appendChild(i),r.appendChild(a),t.appendChild(r),t.appendChild(s),n.appendChild(t);for(let r=0;r<e.gameboard.ships.length;r++){let o=document.createElement("div"),i=e.gameboard.ships[r].name;o.setAttribute("class","ship"),o.setAttribute("id",i),o.draggable="true",o.addEventListener("dragstart",(e=>{o.classList.add("dragging"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",e.target.id)})),o.addEventListener("dragend",(()=>{o.classList.remove("dragging"),setTimeout((()=>{this.shipsReady(e,n,a,t)}),10)}));for(let n=0;n<e.gameboard.ships[r].length;n++){let e=document.createElement("div"),t=document.createElement("i");e.setAttribute("class","bx bxs-ship shipIcon"),e.setAttribute("id",i+n),e.appendChild(t),o.appendChild(e)}n.appendChild(o)}}changeShipDirection(e,n,t,r,a){for(let o=0;o<e.gameboard.ships.length;o++)document.querySelector("#"+e.gameboard.ships[o].name).classList.toggle("shipVertical"),n?(t.classList.add("active"),r.classList.add("vertical"),a.classList.add("vertical"),e.gameboard.ships[o].direction="vertical"):(t.classList.remove("active"),r.classList.remove("vertical"),a.classList.remove("vertical"),e.gameboard.ships[o].direction="horizontal"),this.updatePlayerDisplay(e)}undoShipPlace(e,n){let t,r;for(let a=0;a<e.shipsArray.length;a++)e.shipsArray[a][0].name===n[0].name&&(t=e.shipsArray[a][1],r=e.shipsArray[a][2],e.shipsArray.splice(a,1),e.gameboard.board[t][r]="Empty",a--)}shipsReady(e,n,t,r){const a=document.querySelector("#results");if(!0===[...document.querySelectorAll(".ship")].every((e=>"none"===e.style.display))){for(;n.lastChild;)n.removeChild(n.lastChild);n.style.display="none",t.classList.remove("active"),n.classList.remove("vertical"),r.classList.remove("vertical"),this.toggleDisplays(n),a.textContent=`Let's start the battle, ${e.name}!`}}displayBoard(e,n){const t=document.querySelector("#playerDisplay"),r=document.querySelector("#enemyDisplay");for(;t.lastChild&&r.lastChild;)t.removeChild(t.lastChild),r.removeChild(r.lastChild);const a=document.createElement("h2");a.textContent=`${e.name}'s Board`,t.appendChild(a);const o=document.createElement("h2");o.textContent=`${n.name}'s Board`,r.appendChild(o);const i=document.createElement("div");i.setAttribute("id","playerBoard"),t.appendChild(i);const s=document.createElement("div");s.setAttribute("id","enemyBoard"),r.appendChild(s),this.updatePlayerDisplay(e,n),this.updateEnemyDisplay(e,n)}updatePlayerDisplay(e,n){const t=document.querySelector("#playerBoard");for(;t.lastChild;)t.removeChild(t.lastChild);const r=e.gameboard;this.renderBoard(t,r,e.isEnemy),t.querySelectorAll(".cell").forEach((t=>{t.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"})),t.addEventListener("dragenter",(e=>{e.preventDefault(),t.classList.add("dragOver")})),t.addEventListener("dragleave",(()=>{t.classList.remove("dragOver")})),t.addEventListener("drop",(r=>{r.preventDefault(),r.stopPropagation();const a=r.dataTransfer.getData("text/plain");a&&(this.placeShipCell(e,t,a),this.updatePlayerDisplay(e,n))}))}))}placeShipCell(e,n,t){const r=document.querySelector(".dragging"),a=document.querySelector("#shipDisplay");if(!r||!t)return;let o;for(let n of e.gameboard.ships)if(n.name===t){o=n;break}if(!o)return;let i=o.direction,s=parseInt(n.dataset.row),l=parseInt(n.dataset.col);!1===e.gameboard.placeShips(e,o,s,l,i)?(r.style.display="flex",a.appendChild(r)):r.style.display="none"}updateEnemyDisplay(e,n){const t=document.querySelector("#enemyBoard");for(;t.lastChild;)t.removeChild(t.lastChild);const r=n.gameboard;this.renderBoard(t,r,n.isEnemy="yes"),t.querySelectorAll(".cell").forEach((t=>{t.addEventListener("click",(()=>{let r=t.dataset.row,a=t.dataset.col;(new E).playRound(e,n,r,a)}))}))}renderBoard(e,n,t){e.setAttribute("class","gameBoard");for(let r=0;r<n.board.length;r++)for(let a=0;a<n.board.length;a++){let o=document.createElement("div");o.setAttribute("class","cell"),o.dataset.row=r,o.dataset.col=a;let i=document.createElement("i");"Empty"===n.board[r][a]?i.setAttribute("class","bx bx-water"):"Miss"===n.board[r][a]?i.setAttribute("class","bx bxs-x-circle"):"Hit"===n.board[r][a]?i.setAttribute("class","bx bxs-hot"):"Sunk"===n.board[r][a]?i.setAttribute("class","bx bxs-ghost"):n.board[r][a]instanceof C&&("no"===t?i.setAttribute("class","bx bxs-ship"):i.setAttribute("class","bx bx-water")),o.appendChild(i),e.appendChild(o)}}displayWinner(e){const n=document.querySelector("#showWinner"),t=document.querySelector("#winnerName");n.showModal(),t.textContent=`${e.name} is the winner!`,window.addEventListener("click",(e=>{e.target==n&&n.close()}))}}class E{constructor(){this.player=new I("Mystery Player"),this.enemy=new I("Computer"),this.display=new k}startGame(){const e=document.querySelector("#results");this.enemy.gameboard.board=this.enemy.gameboard.createBoard(),this.enemy.gameboard.ships.forEach((e=>{e.hits=0})),this.enemy.shipsArray=[],this.enemy.hitsArray=[],this.enemy.gameboard.getRandomShips(this.enemy),this.display.displayBoard(this.player,this.enemy),this.display.displayShips(this.player),e.textContent=`Place your ships, ${this.player.name}!`}createPlayer(){const e=document.querySelector("#newPlayer"),n=document.querySelector("#choosePlayer"),t=document.querySelector("form"),r=document.querySelector("#saveBtn"),a=document.querySelector("#cancelBtn");window.addEventListener("load",(()=>{n.showModal()})),e.addEventListener("click",(()=>{n.showModal()})),a.addEventListener("click",(()=>{n.close(),t.reset()})),r.addEventListener("click",(e=>{e.preventDefault();let r=document.querySelector("#playerName").value;n.close(),t.reset(),this.player=new I(r),this.startGame()}))}newGame(){document.querySelector("#newGame").addEventListener("click",(()=>{this.player.gameboard.board=this.player.gameboard.createBoard(),this.player.gameboard.ships.forEach((e=>{e.hits=0})),this.player.shipsArray=[],this.player.hitsArray=[],this.startGame()}))}playRound(e,n,t,r){const a=document.querySelector("#enemyBoard"),o=document.querySelector("#results");n.gameboard.receiveAttack(n,t,r,e.isEnemy),this.display.updateEnemyDisplay(e,n),!0!==this.endGame(e,n)&&(a.style.pointerEvents="none",o.textContent=`Take your shot, ${n.name}!`,setTimeout((()=>{e.gameboard.computerAttack(e,n.isEnemy),this.display.updatePlayerDisplay(e,n),!0!==this.endGame(e,n)&&(a.style.pointerEvents="auto",o.textContent=`Take your shot, ${e.name}!`)}),1500))}endGame(e,n){if(!0===e.gameboard.areAllShipsSunk())this.display.displayWinner(n),setTimeout((()=>{this.player=new I(e.name),this.startGame()}),3e3);else{if(!0!==n.gameboard.areAllShipsSunk())return!1;this.display.displayWinner(e),setTimeout((()=>{this.player=new I(e.name),this.startGame()}),3e3)}return!0}}let w=new E;w.newGame(),w.createPlayer()})();
//# sourceMappingURL=main.js.map